package bs.pi.gateway.main;

import bs.pi.gateway.client.zigbee.ZigbeeClient;
import bs.pi.gateway.processor.MyProcessor;
import bs.pi.gateway.receiver.TestReceiver;

public class Main {

	public static void main(String[] args) throws Exception {
		Gateway gateway = new Gateway();
		
		ZigbeeClient zigbeeClient = new ZigbeeClient(ZigbeeClient.DEFAULT_CFG_PATH);
		zigbeeClient.init();
		zigbeeClient.start();
		
		MyProcessor processor = new MyProcessor();
		
		TestReceiver testReceiver = new TestReceiver();
		testReceiver.start();
	//	gateway.installSender(zigbeeClient.getSender());
	//	gateway.installReceiver(zigbeeClient.getReceiver());
		gateway.installReceiver(zigbeeClient.getReceiver());
		gateway.setProcessor(processor);
		
		gateway.start();
	}

}
